-- SCENE SETUP --

local clearMeadowTown = scene.create("assets/images/clear_meadow_town/clear_meadow_town_background.png", 0, 0, nil)  -- Creates a clearMeadowTown Scene

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- CAMERA SETUP --

clearMeadowTown.cameras.main = clearMeadowTown.createCamera(0, 0, (WIDTH * 0.55), (WIDTH * 0.45) - ((player.width / 2) ), (HEIGHT * 0.55), (HEIGHT * 0.45), 1920, 0, 1080, 0)   -- Adds a Camera labeled "main" to the clearMeadowTown Cameras table
clearMeadowTown.activeCamera = clearMeadowTown.cameras.main                                                                                                                     -- Sets the "main" Camera to be the active Camera for clearMeadowTown

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- BUTTON SETUP --

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- OBJECT SETUP --

-- VERTICAL HALF FENCE --
local fenceHalfVertical = clearMeadowTown.createObject("fence_half_vertical", -90, -140, 80, 130, 9, love.graphics.newImage("assets/images/outdoor_decor/fence/vertical/fenceHalfVertical1.png"), -90, -140, 80, 130, "static", 1, 0)
fenceHalfVertical.animations.idle = fenceHalfVertical.createAnimation(1, 1, 1, 1)
fenceHalfVertical.currentAnimation = fenceHalfVertical.animations.idle

function fenceHalfVertical.setDrawPosition(object)
    table.insert(clearMeadowTown.bottomHalfUnderPlayerTorso, object)
    table.insert(clearMeadowTown.topHalfUnderPlayerTorso, object)
end


-- HORIZONTAL HALF FENCES --
local fenceHalfHorizontalNorth = clearMeadowTown.createObject("fence_half_horizontal", -190, -110, 180, 100, 5, love.graphics.newImage("assets/images/outdoor_decor/fence/horizontal/fenceHalfHorizontal1.png"), -190, -110, 180, 0, "static", 1, 0)
fenceHalfHorizontalNorth.animations.idle = fenceHalfHorizontalNorth.createAnimation(1, 1, 1, 1)
fenceHalfHorizontalNorth.currentAnimation = fenceHalfHorizontalNorth.animations.idle

function fenceHalfHorizontalNorth.setDrawPosition(object)
    if(player.topLeftY < clearMeadowTown.height / 2) then
        table.insert(clearMeadowTown.bottomHalfUnderPlayerTorso, object)
        table.insert(clearMeadowTown.topHalfUnderPlayerTorso, object)
    else
        table.insert(clearMeadowTown.bottomHalfAbovePlayer, object)
        table.insert(clearMeadowTown.topHalfAbovePlayer, object)
    end
end

local fenceHalfHorizontalSouth = clearMeadowTown.createDuplicateObject(fenceHalfHorizontalNorth, -190, -220, -190, -130)


-- TREE --
local tree = clearMeadowTown.createObject("tree", -800, -100, 400, 600, 556, love.graphics.newImage("assets/images/greenery/trees/tree1.png"), -750, -100, 350, 600, "static", 1, 0)
tree.animations.idle = tree.createAnimation(1, 1, 1, 1)
tree.currentAnimation = tree.animations.idle

function tree.setDrawPosition(object)
    table.insert(clearMeadowTown.bottomHalfUnderPlayerTorso, object)
    table.insert(clearMeadowTown.topHalfAbovePlayer, object)
end

-- FLOWERS --
local shortFlower = clearMeadowTown.loadObject(require("shortFlower"))


-- PLAYER HOUSE --
local playerHouse = clearMeadowTown.createObject("player_house", 2496, 328, 840, 492, 356, love.graphics.newImage("assets/images/clear_meadow_town/buildings/houses/single_floor/single_floor1.png"), 2534, 684, 742, 1, "static", 1, 0)
playerHouse.animations.idle = playerHouse.createAnimation(1, 1, 1, 1)
playerHouse.currentAnimation = playerHouse.animations.idle

function playerHouse.setDrawPosition(object)
    table.insert(clearMeadowTown.bottomHalfUnderPlayerTorso, object)
    table.insert(clearMeadowTown.topHalfAbovePlayer, object)
end


-- NEIGHBOR HOUSE --
local neighborHouse = clearMeadowTown.createObject("neighbor_house", 1831, 1368, 1680, 492, 355, love.graphics.newImage("assets/images/clear_meadow_town/buildings/houses/single_floor_expanded/single_floor_expanded1.png"), 1868, 1723, 1606, 1, "static", 1, 0)
neighborHouse.animations.idle = neighborHouse.createAnimation(1, 1, 1, 1)
neighborHouse.currentAnimation = neighborHouse.animations.idle

function neighborHouse.setDrawPosition(object)
    table.insert(clearMeadowTown.bottomHalfUnderPlayerTorso, object)
    table.insert(clearMeadowTown.topHalfAbovePlayer, object)
end


-- LABORATORY --
local laboratory = clearMeadowTown.createObject("laboratory", -650, -38, 1800, 984, 809, love.graphics.newImage("assets/images/clear_meadow_town/buildings/lab/lab1.png"), 0, 0, 1030, 809, "static", 1, 0)
laboratory.animations.idle = laboratory.createAnimation(1, 1, 1, 1)
laboratory.currentAnimation = laboratory.animations.idle

function laboratory.setDrawPosition(object)
    table.insert(clearMeadowTown.bottomHalfUnderPlayerTorso, object)
    table.insert(clearMeadowTown.topHalfAbovePlayer, object)
end


-- BENCH --
local bench1 = clearMeadowTown.createObject("bench", 1069, 74, 360, 192, 72, love.graphics.newImage("assets/images/outdoor_decor/bench/bench1.png"), 1070, 145, 358, 1, "static", 1, 0)
bench1.animations.idle = bench1.createAnimation(1, 1, 1, 1)
bench1.currentAnimation = bench1.animations.idle

function bench1.setDrawPosition(object)
    if (player.topLeftY > object.topLeftY - object.splitPoint) then
        table.insert(clearMeadowTown.bottomHalfUnderPlayerTorso, object)
        table.insert(clearMeadowTown.topHalfUnderPlayerTorso, object)
    else
        table.insert(clearMeadowTown.bottomHalfAbovePlayer, object)
        table.insert(clearMeadowTown.topHalfAbovePlayer, object)
    end
end

local bench2 = clearMeadowTown.createDuplicateObject(bench1, 1526, 74) 
local bench3 = clearMeadowTown.createDuplicateObject(bench1, 1961, 74)

-- clearMeadowTown.createObject("tall_flower_purple", 50, 100, 3430, 681, "static", 1, 0)

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- TILEMAP SETUP --
clearMeadowTown.tilemap = {
    -- Each tile is 60 px wide and 60 px tall (60x60)
    -- 36 rows, 64 columns, (2304 tiles total)

    -- 0 = EMPTY
    -- 1 = FENCE HALF VERTICAL
    -- 2 = FENCE HALF HORIZONTAL NORTH
    -- 3 = FENCE HALF HORIZONTAL SOUTH
    -- 4 = TREE
    -- 5 = SHORT FLOWER

        {2, 0, 0, 2, 0, 0, 2, 0, 0, 2, 0, 0, 2, 0, 0, 2, 0, 0, 2, 0, 0, 2, 0, 0, 2, 0, 0, 2, 0, 0, 2, 0, 0, 2, 0, 0, 2, 0, 0, 2, 0, 0, 2, 0, 0, 2, 0, 0, 2, 0, 0, 2, 0, 0, 2, 0, 0, 2, 0, 0, 2, 4, 0, 2},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 5, 0, 0, 4, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},        
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0},
        {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},        
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},        
        {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0},
        {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 0, 3}
}

for row = 1, #clearMeadowTown.tilemap do
    for col = 1, #clearMeadowTown.tilemap[row] do
        local tileValue = clearMeadowTown.tilemap[row][col]
        if (tileValue ~= 0) then
            -- clearMeadowTown.createDuplicateObject(clearMeadowTown.objects[tileValue], ((col - 1) * 60), ((row - 1) * 60))
            clearMeadowTown.loadObject(clearMeadowTown.objects[tileValue]:duplicate(((col - 1) * 60), ((row - 1) * 60)))
        end
    end
end

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function clearMeadowTown.load()
    clearMeadowTown.bottomHalfUnderPlayerTorso = {}
    clearMeadowTown.topHalfUnderPlayerTorso = {}
    
    clearMeadowTown.bottomHalfUnderPlayerHead = {}
    clearMeadowTown.topHalfUnderPlayerHead = {}
    
    clearMeadowTown.bottomHalfAbovePlayer = {}
    clearMeadowTown.topHalfAbovePlayer = {}


    player.body:setX(2400)                   -- Sets the Player to be centered on the x-axis
    player.body:setY(1080)                   -- Sets the Player to be centered on the y-axis  

end

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- OBJECT UPDATING --

function clearMeadowTown.update(dt)
    clearMeadowTown.bottomHalfUnderPlayerTorso = {}
    clearMeadowTown.topHalfUnderPlayerTorso = {}

    clearMeadowTown.bottomHalfUnderPlayerHead = {}
    clearMeadowTown.topHalfUnderPlayerHead = {}

    clearMeadowTown.bottomHalfAbovePlayer = {}
    clearMeadowTown.topHalfAbovePlayer = {}

    clearMeadowTown.cameras.main.follow(player)
    clearMeadowTown.updateObjects(dt)
    player.move(dt)                                         -- Update the Player's movements
    player.update(dt)
end

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- OBJECT DRAWING --

function clearMeadowTown.draw()
    clearMeadowTown.activeCamera.draw()
    love.graphics.draw(clearMeadowTown.background, clearMeadowTown.x, clearMeadowTown.y)

    for i = 1, #clearMeadowTown.bottomHalfUnderPlayerTorso do
        clearMeadowTown.bottomHalfUnderPlayerTorso[i]:drawBottomHalf()
    end

    for i = 1, #clearMeadowTown.topHalfUnderPlayerTorso do
        clearMeadowTown.topHalfUnderPlayerTorso[i]:drawTopHalf()
    end

    player:drawBottomHalf()

    for i = 1, #clearMeadowTown.bottomHalfUnderPlayerHead do
        clearMeadowTown.bottomHalfUnderPlayerHead[i]:drawBottomHalf()
    end

    for i = 1, #clearMeadowTown.topHalfUnderPlayerHead do
        clearMeadowTown.topHalfUnderPlayerHead[i]:drawTopHalf()
    end

    player:drawTopHalf()

    for i = 1, #clearMeadowTown.bottomHalfAbovePlayer do
        clearMeadowTown.bottomHalfAbovePlayer[i]:drawBottomHalf()
    end

    for i = 1, #clearMeadowTown.topHalfAbovePlayer do
        clearMeadowTown.topHalfAbovePlayer[i]:drawTopHalf()
    end
end

return clearMeadowTown